sky:
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    host: ${MYSQL_HOST:localhost}
    port: ${MYSQL_PORT:3306}
    database: ${MYSQL_DATABASE:sky_take_out}
    username: ${MYSQL_USERNAME:root}
    password: ${MYSQL_PASSWORD:root}
  alioss:
    endpoint: ${ALIOSS_ENDPOINT:oss-cn-shanghai.aliyuncs.com}
    access-key-id: ${ALIOSS_ACCESS_KEY_ID}
    access-key-secret: ${ALIOSS_ACCESS_KEY_SECRET}
    bucket-name: ${ALIOSS_BUCKET_NAME}
  redis:
    host: ${REDIS_HOST:localhost}
    port: ${REDIS_PORT:6379}
    password: ${REDIS_PASSWORD:}
    database: ${REDIS_DATABASE:0}
  jwt:
    # JWT Admin 配置 (从环境变量读取)
    admin-secret-key: ${JWT_ADMIN_SECRET_KEY:default}
    admin-ttl: ${JWT_ADMIN_TTL:3600000}
    admin-token-name: ${JWT_ADMIN_TOKEN_NAME:default}
    # JWT User 配置 (从环境变量读取)
    user-secret-key: ${JWT_USER_SECRET_KEY:put_you_token}
    user-ttl: ${JWT_USER_TTL:3600000}
    user-token-name: ${JWT_USER_TOKEN_NAME:default_authentication}
  wechat:
    appid: ${WECHAT_APPID}
    secret: ${WECHAT_SECRET}
    mchid: ${WECHAT_MCHID}
    mchSerialNo: ${WECHAT_MCH_SERIAL_NO}
    privateKeyFilePath: ${WECHAT_PRIVATE_KEY_FILE_PATH:/app/config/apiclient_key.pem}
    apiV3Key: ${WECHAT_API_V3_KEY}
    weChatPayCertFilePath: ${WECHAT_PAY_CERT_FILE_PATH:/app/config/wechatpay.pem}
    notifyUrl: ${WECHAT_NOTIFY_URL}
    refundNotifyUrl: ${WECHAT_REFUND_NOTIFY_URL}

# Actuator & Prometheus 监控配置
management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics,prometheus
      base-path: /actuator
  endpoint:
    health:
      show-details: always
    prometheus:
      enabled: true
  metrics:
    export:
      prometheus:
        enabled: true
    tags:
      application: sky-take-out
      environment: docker
